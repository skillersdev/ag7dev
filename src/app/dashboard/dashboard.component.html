<app-topnav></app-topnav>
<app-sidemenu></app-sidemenu> 


<section class="content">
        <div class="container-fluid">
            <!-- Hover Zoom Effect -->
            <div class="block-header">
                <h2>DASHBOARD</h2>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <a href="javascript:void(0);" [routerLink]="['/dashboard']">
                        <div class="info-box-3 bg-pink hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons">dashboard</i>
                            </div>
                            <div class="content"> 
                                <h5>Dashboard</h5>
                                <!-- <div class="number">15</div> -->
                            </div>
                        </div>
                    </a>    
                </div>

                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <a href="javascript:void(0);" [routerLink]="['/managemarketers']">
                            <div class="info-box-3 bg-indigo hover-zoom-effect">
                                <div class="icon">
                                    <i class="material-icons">supervisor_account</i>
                                </div>
                                <div class="content">
                                    <h5>Manage Marketers</h5>
                                    <!-- <div class="number">15</div> -->
                                </div>
                            </div>
                        </a>    
                    </div>
                    <!-- <button type="button" class="btn btn-success" data-toggle="modal" data-target="#largeModal">Buy Package</button> -->
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <a href="javascript:void(0);" data-toggle="modal" data-target="#largeModal">
                    <div class="info-box-3 bg-blue hover-zoom-effect">
                        <div class="icon">
                            <i class="material-icons">devices</i>
                        </div>
                        <div class="content">
                            <h5>Buy more services</h5>
                            <!-- <div class="number">2</div> -->
                        </div>
                    </div>
                    </a>
                </div>
               <!--  <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <a href="javascript:void(0);" [routerLink]="['/managepackages']">
                    <div class="info-box-3 bg-blue hover-zoom-effect">
                        <div class="icon">
                            <i class="material-icons">devices</i>
                        </div>
                        <div class="content">
                            <h5>Packages</h5>
                            <div class="number">{{packagelist.length}}</div>
                        </div>
                    </div>
                    </a>
                </div> -->
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <a href="javascript:void(0);" [routerLink]="['/accountinfo']">
                    <div class="info-box-3 bg-light-blue hover-zoom-effect">
                        <div class="icon">
                            <i class="material-icons">fingerprint</i>
                        </div>
                        <div class="content">
                            <h5>Account Info</h5>
                            
                        </div>
                    </div>
                    </a>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <a href="javascript:void(0);" [routerLink]="['/profile']">
                    <div class="info-box-3 bg-teal hover-zoom-effect">
                        <div class="icon">
                            <i class="material-icons">account_circle</i>
                        </div>
                        <div class="content">
                            <h5>Profile</h5>
                            
                        </div>
                    </div>
                    </a>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <a href="javascript:void(0);" [routerLink]="['/manageproducts']">
                    <div class="info-box-3 bg-green hover-zoom-effect">
                        <div class="icon">
                            <i class="material-icons">list</i>
                        </div>
                        <div class="content">
                            <h5>Manage Products</h5>
                        </div>
                    </div>
                    </a>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                    <a href="javascript:void(0);" [routerLink]="['/managecontacts']">
                    <div class="info-box-3 bg-light-green hover-zoom-effect">
                        <div class="icon">
                            <i class="material-icons">contacts</i>
                        </div>
                        <div class="content">
                            <h5>Manage Contacts</h5>
                        </div>
                    </div>
                    </a>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <a href="javascript:void(0);" [routerLink]="['/manageservices']">
                        <div class="info-box-3 bg-lime hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons">developer_board</i>
                            </div>
                            <div class="content">
                                <h5>Manage Services</h5>
                            </div>
                        </div>
                        </a>
                    </div>

                   <!--  <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <a href="javascript:void(0);">
                        <div class="info-box-3 bg-light-green hover-zoom-effect">
                            <div class="icon">
                               {{tamount}}
                            </div>
                            <div class="content">
                                <h5>Total Amount</h5>
                            </div>
                        </div>
                        </a>
                    </div> -->
                
                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                            <a href="javascript:void(0);" [routerLink]="['/']">
                            <div class="info-box-3 bg-orange hover-zoom-effect">
                                <div class="icon">
                                    <i class="material-icons">power_settings_new</i>
                                </div>
                                <div class="content">
                                    <h5>Logout</h5>
                                </div>
                            </div>
                            </a>
                        </div>


            </div>
            <!-- #END# Hover Zoom Effect -->

           <!-- <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Package Activation</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                    </div>
                                    <div class="modal-body">update
                                        <form class="" #addpackage="ngForm">
                                            <div class="">
                                                <p><b>Package Name</b></p>
                                                <div class="form-group"> 
                                                    <div class="form-line">
                                                        <input type="text" id="package_name " name="package_name " class="form-control" placeholder="Enter PackageName" [(ngModel)]="model.package_name " #package_name="ngModel" required [readonly]="true">
                                                    </div>
                                                    <span [hidden]="package_name.valid || package_name.pristine" class="text-danger">Package Name is required</span>
                                                </div>
                                            </div>
                                            <div class="">
                                                <p><b>Package price</b></p>
                                                <div class="form-group">
                                                    <div class="form-line">
                                                        <input type="text" id="package_price" name="package_price" class="form-control" placeholder="Enter PackageName" [(ngModel)]="model.package_price" #package_price="ngModel" required [readonly]="true">
                                                    </div>
                                                    <span [hidden]="package_price.valid || package_price.pristine" class="text-danger">Package price is required</span>
                                                </div>
                                            </div>
                                            <div>
                                                <p><b>Website Name</b></p>
                                                <div class="form-group">
                                                    <div class="form-line">
                                                        <input type="text" id="website" name="website" class="form-control" placeholder="Enter website" [(ngModel)]="model.website" #website="ngModel" 
                                                        (blur)="checkwebsite()" required>
                                                    </div>
                                                    <span [hidden]="website.valid || website.pristine" class="text-danger">website is required</span>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-primary">Pay with paypal</button>
                                                <button type="button" [disabled]="!addpackage.form.valid" (click)="pay_via_voucher()" class="btn btn-primary">Pay with voucher</button>
                                            </div>
                                        </form>
                                    </div>
                                    <div >
                                        <form *ngIf="payment_details"  #voucher="ngForm">
                                            <div class="col-md-12">
                                                <p><b>User Name</b></p>
                                                <div class="form-group">
                                                    <div class="form-line">
                                                        <input type="text" id="username " name="username" class="form-control" placeholder="Enter username" [(ngModel)]="payment_data.username" (blur)="checkUserexist($event)" #user_name="ngModel" required>
                                                    </div>
                                                    <span [hidden]="user_name.valid || user_name.pristine" class="text-danger">User Name is required</span>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <p><b>Password</b></p>
                                                <div class="form-group">
                                                    <div class="form-line">
                                                        <input type="password" id="password" name="password" class="form-control" placeholder="Enter password" [(ngModel)]="payment_data.password" #password="ngModel" required>
                                                    </div>
                                                    <span [hidden]="password.valid || password.pristine" class="text-danger">Password is required</span>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" [disabled]="!voucher.form.valid" class="btn btn-primary" (click)="paytoactivate()">Pay</button>
                                                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="CancelPayment()">Cancel</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div> -->


            
            <div class="row clearfix">
                <!-- Task Info -->
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                    <!-- <div class="card"> 
                        <div class="header">
                            <h2>Change Language</h2>
                            
                        </div>
                        <div class="body">
                                <div id="google_translate_element" class="form-group"></div>
                        </div>
                    
                        <script type="text/javascript">
                            function googleTranslateElementInit() {
                            new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
                                
                            }
                            
                        </script>
                        <style>
                            .goog-logo-link{
                            display:none;
                            }
                            .skiptranslate{color:white !important;}
                            .goog-te-combo{ 
                                color: #666 !important;
                                display: block !important;
                                width: 100% !important;
                                height: 34px !important;
                                padding: 6px 12px !important;
                                font-size: 14px !important;
                                line-height: 1.42857143 !important;
                                background-color: #fff !important;
                                background-image: none !important;
                                border: 1px solid #ccc !important;
                                border-radius: 4px !important;
                                }
                            .goog-te-banner-frame{visibility:hidden !important;}
                            
                            .goog-tooltip skiptranslate {visibility: hidden !important}
                        </style>
                        
                       
                        
                    </div> -->
                    <!-- translate code ends here-->

                    <div class="card">
                        <div class="header">
                            <h2>Share Balance to Marketer</h2>
                            <span>(to share the balance. you should have more than RM 50)</span>
                            
                           
                            
                        </div>
                          
                        <div class="body">
                            <div>
                                    <label for="NameSurname" class="col-sm-4 control-label">Total Available balance amount</label>
                                    <div class="col-sm-2">
                                        <span class="label bg-orange"> {{model.tot_amt}} </span>
                                    </div>
                            </div>
                            <br/>
                                <form name="transferform" #transfer=ngForm>
                                <div class="form-group ">
                                        <label for="NameSurname" class="col-sm-2 control-label">User Name</label>
                                        <div class="col-sm-3">
                                            <div class="form-line">
                                                <input type="text" class="form-control" id="marketername" name="mname" placeholder="Enter Marketer Name" [(ngModel)]="model.mname" #mname="ngModel" value="" (blur)="checkmarketer($event.target.value)" required>
                                            </div>
                                            <span [hidden]="mname.valid || mname.pristine" class="text-danger">Name is required</span>
                                        </div>

                                        <label for="NameSurname" class="col-sm-2 control-label">Amount to Share</label>
                                        <div class="col-sm-3">
                                            <div class="form-line">
                                                <input type="text" class="form-control" id="share_amt" name="share_amt" pattern="[0-9/.]*" [(ngModel)]="model.share_amt" (blur)="checkbalance()" #share_amt="ngModel" placeholder="Enter Amount to share" value="" required>
                                            </div>
                                            <div *ngIf="share_amt.errors && (share_amt.dirty || share_amt.touched)" class="">
                                                <span *ngIf="share_amt.errors.required" class="text-danger">Amount is required</span>
                                                <span [hidden]="!share_amt.hasError('pattern')" class="text-danger"> *Amount should have numbers only. </span>
                                            </div>
                                            
                                        </div>
                                        <div class="col-sm-2">
                                            <button type="submit" [disabled]="!transfer.form.valid" (click)="transferamount()" class="btn btn-success">Transfer</button>
                                        </div>
                                            

                                    </div>
                                    </form>
                                    <br/> <br/> <br/>
                                          
                                        

                        </div>
                    </div>

                    <div class="card">
                        <div class="header">
                            <h2>WEBSITE INFO</h2>
                            
                        </div>
                        <div class="body">
                            <div class="table-responsive">
                                <table class="table table-hover dashboard-task-infos">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Package Name</th>
                                            <th>Status</th>
                                            <th>Website Link</th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of packagelist let idx=index">
                                            <td>{{idx+1}}</td>
                                            <td>{{data.package_name}}</td>
                                            <td *ngIf="data.status=='Active'">
                                                <span class="label bg-green">Active</span>
                                            </td>
                                            <td *ngIf="data.status=='Inactivate'">
                                                <span class="label bg-red">Not Active</span>
                                            </td>
                                             <td *ngIf="data.status=='Expired'">
                                                <a href="#" data-toggle="modal" data-target="#exampleModal"><span class="label bg-orange">Expired</span></a>
                                            </td>
                                            <td>
                                                <a href="{{websiteurl}}/{{data.website}}" target="_blank" (click)="userweb(data.website)">{{data.website}}</a>
                                            </td>
                                            <!-- <td><a >{{data.website}}</a></td> -->
                                        </tr>
                                        <!-- 
                                       
                                        <tr>
                                            <td>2</td>
                                            <td>Sample Package</td>
                                            <td>
                                                <span class="label bg-red">Not Active</span>
                                            </td>
                                            <td><a href="">View Webpage</a></td>
                                            
                                        </tr> -->
                                    </tbody>
                                </table>
                            </div>
                            
                        </div>
                    </div>
                </div>
                <!-- #END# Task Info -->
               

                

                <!-- Large Size -->
                
            <div class="modal fade" id="largeModal" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="largeModalLabel">Activate Package</h4>
                        </div>
                        <div class="modal-body">
                            <form #addpackage="ngForm">
                           <div class="col-md-6">
                                    <p><b>Select Package</b></p> 
                                    <select class="form-control show-tick" [(ngModel)]="model.packuser" #packuser="ngModel" name="packuser"  required>
                                        <option [ngValue]="select">select website</option>    
                                        <option *ngFor="let model of package_vs_user_list" value="{{model.id}}">{{model.package_name}}</option>
                                    </select>
                                    <span [hidden]="packuser.valid || packuser.pristine" class="text-danger">Package is required</span>
                                </div>
                                <div class="col-md-12">&nbsp;&nbsp;</div>
                                <div class="col-md-12">&nbsp;&nbsp;</div>
                                <div class="col-md-12">
                                     <button type="button" class="btn btn-primary" (click)="savepackages()">Buy Package</button>
                            <button type="button" class="btn btn-link waves-effect" data-dismiss="modal">CLOSE</button>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                          
                        </div>
                    </div>
                </div>
            </div>


            </div>

           
        </div>
    </section>



    